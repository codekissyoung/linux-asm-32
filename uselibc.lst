     1                                  section .text
     2                                  
     3                                  extern puts
     4                                  global main
     5                                  
     6                                  main:
     7 00000000 90                          nop
     8 00000001 55                          push ebp
     9 00000002 89E5                        mov ebp, esp
    10 00000004 53                          push ebx
    11 00000005 56                          push esi
    12 00000006 57                          push edi
    13                                      ;;;;;;;;;;;;;; 调用约定，保护现场
    14                                  
    15 00000007 68[00000000]                push msg        ; 将 msg 地址压入栈，作为 puts 函数的入参
    16 0000000C E8(00000000)                call puts       ; 调用 glibc 中的 puts 函数
    17 00000011 83C404                      add esp, 4      ; 清理栈，将 esp 调回 4 个字节
    18                                  
    19                                      ;;;;;;;;;;;;;; 调用约定，清理现场
    20 00000014 5F                          pop edi         ; 恢复保存的寄存器
    21 00000015 5E                          pop esi
    22 00000016 5B                          pop ebx
    23 00000017 89EC                        mov esp, ebp    ; 返回之前销毁栈空间
    24 00000019 5D                          pop ebp
    25 0000001A C3                          ret             ; 将控制返回给 Linux
    26                                  
    27                                  section .data
    28 00000000 48656C6C6F20776F72-         msg: db "Hello world",0
    28 00000009 6C6400             
    29                                  section .bss
